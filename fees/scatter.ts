import { Chain } from '@defillama/sdk/build/general';
import { Adapter, FetchResultFees } from '../adapters/types';
import { getBlock } from '../helpers/getBlock';
import { queryFlipside } from '../helpers/flipsidecrypto';
import { CHAIN } from '../helpers/chains';
import { getPrices } from '../utils/prices';
import fetchURL from '../utils/fetchURL';


const graph = (chain: Chain) => {
  return async (timestamp: number): Promise<FetchResultFees> => {

    const fromTimestamp = timestamp - 60 * 60 * 24
    const toTimestamp = timestamp
    try {
      const startblock = (await getBlock(fromTimestamp, chain, {}));
      const endblock = (await getBlock(toTimestamp, chain, {}));
      // const data: string[] = (await fetchURL('https://scatter-api.fly.dev/api/contracts')).data.body;
      const data: string[] =  [
        '0xE61443f7db3Ca8B7FC083602dcc52726db3d5Ff6',
        '0x7070E4c2A6d81f3070E9E514a0e1aFa53b0b192c',
        '0xe8979fDd9f050052e53a13257Fe6218edD52c80A',
        '0x91d919750A5aC5AbC12163CfacA46fc7645E62c8',
        '0xb9AB173D96127c2511aE7486a71616C88E53f398',
        '0xaE75944D73cEf4E0078aB0e1908d7AaA5f5Fea36',
        '0x07F7Bbc0e46AA051c620dEc8F7a9FA30f754f6a1',
        '0xd7922cD333da5ab3758C95f774B092A7B13a5449',
        '0xD72189910478d3102Db1f32D6c99BB7D6725D074',
        '0xD0458Bf19d52f131F7Fca4E3Cf676ee0c9D1428F',
        '0x2d4017D23c28B829F2E7908C2E230a88ffb06B1e',
        '0x4A83afE2FB59293b0fcb454A33F90a3741cA5A34',
        '0xC127c6230C7FaBd6d1ecc7f80119d27d8eCa2626',
        '0x4d3AA933217B1b80A10Bf45Be10fd9c01745Ee7A',
        '0x02e2c1a67dfe80741baF29C3D6c007eCbe0DdbCE',
        '0x7aBC4f4b015e3f23de7be8c89cD83167737A5d9d',
        '0x05C63282c87f620aF5a658cBb53548257F3A6186',
        '0x2e80177d429a3E826f417538Aa7A48eCd390922F',
        '0xfbE06cd035F2AFC44893cC5696e7cb1e077AfE6B',
        '0xEf75c212E43D7806F993555c8F09Df610881f5e3',
        '0x1A36625E52CE880F242339C8B866A4fb1725b176',
        '0xdeDBCEfe4405C924eF6a99ac49ca83648C5Cc7b2',
        '0x75103A95F1B15cD60891f8E469C059aaa7F1C5Fe',
        '0x004400A9113e901349eabCD80Be458C61ed99579',
        '0x4a39f36aA2054c26FcabB982623AD59c1556F7eD',
        '0xAB5B4BcEc0A24e1978C2D40E97C60014F78eDBD1',
        '0x4005fe4Eb311d0edf221fc9935d8868F0412eaD9',
        '0xA23a9e6002Cebb284E1797be6E0Cad201d13C2F2',
        '0x9AC446124c32c9B3bc7e868b1e088a49FE900792',
        '0x89517070B7a7A11E8b0b176F1De61D4b1A5aBEE6',
        '0x3BF071223B72dcD52e24D906532e4F1478672ca6',
        '0x263894885fc922DC32417dD9D90139a6e56DA3f7',
        '0x0784CF840C50C32e2278D4a1e7Cd753A9117C51D',
        '0xA7fAa37411efD5B0055754f4AE317EC1CA76e8aC',
        '0x32970792596a7cA340E8e762F387bDc173381B25',
        '0x06A63cd394f7B9a03B04e38ba271A88aFef66C96',
        '0x998F699aF1D473Ed15b39e2A15b0DF9A3f504fbb',
        '0x9d39f8F8F77887767ae57a4d2e18aB517643bD42',
        '0xEa7432588A54ec44E3A9f5c940d68C8F6A13B213',
        '0xe941704EC10038D7916EA63f78d49ef3bd7b3b85',
        '0x84adC3704aeDa3fA99828c987d1A314C7252896A',
        '0xd88De4166260f780c67D53380152b9D6d00FEC5A',
        '0xf0bDe5Ee13004eD38dAB7ae48201b7BA3C76FE59',
        '0x3006f4B410D3edb969c40D27D50FeCfC2AB4b54D',
        '0x89eE3641e92329Ec685a31D20399D3ce94396a96',
        '0xD6d503f0f788f3c2D553bE0b5460Ba4E2798044D',
        '0x1C67D8F07D7ef2d637E61eD3FBc3fa9AAF7A6267',
        '0x41439B8fA1d55BAbA12fc857723125672dFD1C9b',
        '0x51Dde9576Ea0db74EAaA91882AAeB1B8bfFF614D',
        '0x5C972abE7609A7Bd62943B79376df305A9A5EC23',
        '0xe37fa11E409f93551bdaC921A57ff786DED615BB',
        '0x92e6ed499155F34611DBd101cAcA205a45cee8A6',
        '0x5569b0520Ce7576Ea1Ff754F5FB94e9A7d8461D2',
        '0x4171AbC250A9F26bb1ac948A62df53406Ae5Fc8E',
        '0x47Eadc5242f24229700557D31988BE24B4544314',
        '0xE86A442A5FB9A90a8534e434Ace352AeFec97087',
        '0xD046a05330085A22Af58869e28881f4B0D1b7c71',
        '0x3ff656F339a1F8e675e9b39d9a4594cE9cB2990b',
        '0x3176ce95050216c229D87173489fd0f61C6373b1',
        '0xF3c67c8b14C203766FDBabE49105890a3Ea827De',
        '0xA680530871De9BF214612017883e4C78d73F0714',
        '0x7E4Be2622960996eAc4E6948a265a544343b1Db9',
        '0xbFE5e191f0F40117452c1bc07D77D89C10a8a326',
        '0xf99E87E993b5ACe835FF2a74af1AE565260787DB',
        '0x92918f384d834f9B30C2a12f67Dd5a1f799784cC',
        '0x22E1F6614B8EC2C2d7EE13764345d1a9c02f8553',
        '0xa6f572896f1f27BDd73E9C11fd683E46490216aE',
        '0xA3FB4B91aA7BeB43Bcd520f7979014e9C7378D86',
        '0x6eB1dD5c3C97D53c92Ba1098900fcdf4d3C771b0',
        '0x4994cbBFdc181622887a7282AAe2aAd8e0f33051',
        '0xD8dFcbA4D43bFe138cBacb7Ee724933C279d3F4b',
        '0x10d8479F43E7fd53298c74b37C278ab0886ABD8d',
        '0x7Fb817AEce179d3248B6aE09d8a3556bf29dC85a',
        '0xb498E595F851F34979424403c99dDD3c4718e649',
        '0x4AE24b9e2D472DB6A6E0E164c0ccF1882e88C0e8',
        '0x61B0e552A3f2844b9a1c41BFD894255F37a269Bc',
        '0x2610CCB21714037DF8a6ECCCCc5e13Ce59933b60',
        '0xEd7528c56E1050A327CAEe728cD71538Bd53cA03',
        '0x487378566232658E9D7AA679609Ab56D73DC6686',
        '0xfe498548C3ea6c04bbCbf8eAAFcD6Cf584D63414',
        '0x68889D8c91Dbd0088a0D6c48C3Ccd72b4232975A',
        '0x3f0e577556FE851834CD7Bb97AE9EdC2d231D196',
        '0x64731E8ce30627D1f41EdD57Aa526A5B08535FBA',
        '0x0385729f3975fC80dD720F3BD64b6fB5bDFE30B7',
        '0x48DFbDDe035964391B215726eefD9059F25F7730',
        '0x58cccccBDE4055784176788bb043E9e0FAbaBb19',
        '0xE70a7bF7b3bC42fA7FD1CcB8493F643bd8128D37',
        '0x3cBa33894986af50b2F27e3CbB7F414869ED8A23',
        '0x496B30dA58de6F31D67A6e0C0487fc5c05558a9E',
        '0x136efD42E71Ae37236F97D3B0071670192E4a305',
        '0xcde9eC8e1EE36711293A5405187f58CD5db3a49F',
        '0x71839b090E91Cb6A8c9De3b456De6CE4F351F553',
        '0x61628D84d0871A38F102D5F16F4E69Ee91d6cdD9',
        '0x2eb733AdB5531da15e3189B64b5eE23200f745D2',
        '0xf37c5318787aE4e803c13B60a33D216a21D7Ff35',
        '0x9aF883186a1388C1a7bb97cc122FA6488Ac0474c',
        '0x06078f22055CfB23193882879FD478471C8B4a03',
        '0x0263C28a16e05fC2F26e85C3200dc623acFB3924',
        '0x468f968272394317A33681d7214920f227D7144f',
        '0xA6bd58463f14b3Ce715358EBFa570F3ff0480AA9',
        '0xD45b8768C9d5Cb57a130fa63fEab85Ba9f52Cc22',
        '0xEF42e4Bb62D7B5E22192c585ec45Eb4a7917Cd5a',
        '0xD38F2979d9c0C302CC04F331e51A721f5Cf15c71',
        '0x499De9CF6465c050aE116Afcbf9105e1d7259cb7',
        '0x1629da0810Eb1ff313090E051f9A47E768353e51',
        '0xd0cd0Cd8F2d13fa44C19019Ec5eC89d4CF0f54eB',
        '0xE5879aD3A66dd0a654DFd3A78FC6F720B05745F6',
        '0x94aE03184F1ae373417E681943Dc3946B35D4570',
        '0x4719873ab0fb9974Cb63876f85aF50f18cf0dEeD',
        '0x6e1b0DB20Aa7e68306dbD6a4Ff3B86e42857419D',
        '0x67B5eE6e29a4230177Dda07AD7848e42d89cF9a0',
        '0xa20806E74a1F15C487EE052B7D04C0a2ecb88f28',
        '0x8182B2010F98FcB4A89738090ED25622780A2452',
        '0xB1224F5E241424458E87c14652CFe59662BF3A9A',
        '0x13B58991Ded462090229427EcBBb7E7F99571a6d',
        '0xE442E69D99E4Eb526a693F10f011a2D441509fFD',
        '0x392C4a12044c7990f9FE66Ca9F119b1DF83f24AD',
        '0x3a8Ca1C8661cd4b739aD50484cc4E6Fdf6515EdE',
        '0xEB3B0Ac9E4829a92E964e723EfDa9104ce0dE5Ec',
        '0xc284B5407f2409bc43F202F29adA9E41566aF748',
        '0x441121dF09c8C7F545A9444aB554Ce640B566C4D',
        '0xFed18c828277E3bD8610F9BAE432e65A651706F7',
        '0xCa7765C0f1768478F3a30AB681Ac5835AFFdFd45',
        '0xf393C7Cf4e0d70884211B430485A6471eA68E3E5',
        '0x7F78555DF0a7e6BD47D1D6cd9f80BbC2A464E243',
        '0xe841B3ca8BF19DA0481b72eDC1dEd7FDf0028916',
        '0x58a0CD4cBbaF69B3EAf869E84Fa8C749f3Ec0BD3',
        '0xd17Ee1538E084209c7ceF473228c44d8d21A4721',
        '0xd5e0b0F0Ac7c014A1bE55dE2D9De90cD2483d465',
        '0xD3D9ddd0CF0A5F0BFB8f7fcEAe075DF687eAEBaB',
        '0xE8d6D7F4C5AB7cEA0FF1c26C7B72dF0d29553816',
        '0x24218F732D5Df76f9354269Cb648E211907Dea64',
        '0xC8FFC4E673fE7aa80E46c5d1Bde0fBe746B71341',
        '0x273F5bD3B677f1F4487A0515385133053BEFd383',
        '0x9413338526053387Ed6C88F8B96E71d5E544d5fb',
        '0x745E9f915a8f63FCE1051F07D34D14151E4dE934',
        '0xc62E3fd5B02618f90dD07d1E478963038fA9089c',
        '0xD9156C2Ae917Cb358Cb77707E73a2E05Cb3dC553',
        '0x8Fc0D90f2C45a5e7f94904075c952e0943CFCCfd',
        '0x5f8E089e6f9919556f4fB43a92E80F4Dc62CE107',
        '0x1e9A453E1d7E3Aa56c70c215CFcACCDD8Ae291A0',
        '0xdD90aeFc4f26490Bb8E660dE1535De1ec1Ca88eC',
        '0x4246200d62072Cf8836F1062A115927555B9C497',
        '0x186E74aD45bF81fb3712e9657560f8f6361cbBef',
        '0x8635b0833c8E5923B8C3370724D990b5667a403d',
        '0x707026941f68B87c8966892530D6203995b2653C',
        '0x0b121ccEFc74F350B1E6cC8D5F9e2223e0859D85',
        '0x877B72E6EBd43A4486Abcf00C277540D3eFBf628',
        '0xe06f8D8ACD2820f9310C9511d6e24076a993A49B',
        '0x8894d9a053B23830d7b516D89c603b0dDb605335',
        '0x5d704bC8C61f4F2c2b08173744dfe0eEC6Bf1331',
        '0x4D84b94D74711785248BA8F6A3C83725C5E7cd09',
        '0x8f7a232aF2347CC5C9C3A245C2f163D248178eaa',
        '0xEE417A625A2c66178fd2906637eF65eD4792296d',
        '0x2A9F5a597e6Cef89C4A06E99B0faAC7DCe106eFa',
        '0x409A26244cB47c0Cf894d91A9caB6e9cA79009aF',
        '0x89f59b44033Bd22f25641b69c8C27529402eE736',
        '0x466978Bfa6458C5DF1cca81CB4b281524e13bBfD',
        '0xdc71c729e6aDf29FD1dbfd1D79e3e7558271a177',
        '0xf3478a066f8D1c1d5fe566BFEDded5d3c73f580F',
        '0x393396Ee83f787377DDAe4C28e562Ae746A31884',
        '0x419C6D63Ad0cb63BcFE0753d35BaDDa37BE5F055',
        '0x6bC7C4f181595BAD48c6E9ef7Ad77CF1095631c7',
        '0xDe6B6090D32eB3eeae95453eD14358819Ea30d33',
        '0x4f23ACa561d76e1de5A3b3e459822f4aD536636B',
        '0xdcDAb41A6e30816FA47A42F4ffBA8D80Ac13f612',
        '0x2D471c659682E92c79261124B5357Ae90Ff68dEa',
        '0xb2619D1aEd8390aF6d7056B0D312557d3D4D419a',
        '0x71481a928c24c32E4D9a4394FAb3168A3A1Cfd11',
        '0x5Af0D9827E0c53E4799BB226655A1de152A425a5',
        '0x4D40C64A8E41aC96b85eE557A434410672221750',
        '0xcDDe7902fD9D8b2F142F39b11A6F30e213D00964',
        '0x9bf6d0fB7a6A89BBf70E06Ae2d7c579655ACDebF',
        '0x7BCF14419DEeF9eb466BeEFA75cF294BcA65D985',
        '0xC19ced6633f0dA7Cef642B7A3f6B3ff0bb2465C0',
        '0x50c2537522592088Bf028c68462FCF0213e6ea49',
        '0xf46D2C269DC508277a0A75A9784D2341Ba3C72dd',
        '0x39cDC731B4bE66bb05817f7Aa4cb5F8Db84a76a0',
        '0xDfc8Ea81CA68EeA542363A71DF3758787C7e7304',
        '0x30Afb7d4fb78DbeF715D82e2Bf456fd6d15b0e24',
        '0x55241fF1f5877CFCA6b3E6CE2fcE30183eA2436A',
        '0x581c3f1282AcCd21c1dB09F3032B270e07caDE58',
        '0x149d48A3bc205c9532b699a349921295151BBB75',
        '0xecb97841Dd48cd8691543D47Fd043c9911ea78D4',
        '0x2F1f14Cd235194829C8F83CE8fdCB7A5B2Ed524C',
        '0x374Cf55BB54Dfe430a91d40b66612885104a99E7',
        '0x1B33048c073dFBd4229BA6d6137402FEbe281f2d',
        '0x69fe9feC34eD2d446af00a37157fAe00b0e6f7F4',
        '0xaA8A4E15E21F1ae899F74F3acD7505219a1947E1',
        '0x94304C674c13c22FEFAB3790428be74268566eda',
        '0xa89985A2579348aF478753f0D769bA0bBA4A4D00',
        '0x5647fA9D864B38a98cF4EEE456CB955931aBe480',
        '0x2339Cef9bAbec964de7339Ea62F0cF12eAD42845',
        '0xf32A8b591236421B27A17379DC5c2c47c52716C1',
        '0x9872e2008b349d1c32a221BACCcCAbefC4cd9D5A',
        '0x0A5795EFed8eef2b9B0710A6Af447108f523499A',
        '0x65309cF9c3A8f730456982a8E37f0260c7F034CE',
        '0xEbb6d0C0EB69752DCCcf1936b410fae308318ea5',
        '0xaeE818706c1828Bf245AA84975D00260c3Bf35Dc',
        '0x05C97fc187CCd288314C3A71D6dC9F8Cf69a518a',
        '0x09f8A4f6bc2f8BddA10B8F064b9BB05e556e1c05',
        '0xF0D31D3841a2DeF5a311743400D465C63943B904',
        '0x898767bcd244663f8Afb77B044EAB7585Cfec9E7',
        '0x01C952C72Ef935c25698bC729Ad5138f73FEdC74',
        '0x5d377Ad2A4FFc593b644Cc260555C9B284dF06E6',
        '0xfA5a5D85C8FE199000b231A1173a779623fE48d5',
        '0x5E75f97a49E11f0d6e235Ce5E3bCC16b0e467303',
        '0xC388e31d7a85F59a18E4D3bCE52f531F5ebA1567',
        '0x11C8bA28918D48c9B125AE6CD83eF696FD7cdfE6',
        '0x7F0a3254b0447f87719C95D445Aa5e2B9cd48165',
        '0x8530B6A8e2d5be891730824F7bE3a6a6BF28a821',
        '0x9Df6AA0c24a63675c5c0E1F6bB2cf593acF52eC4',
        '0xEeca64ea9fCf99A22806Cd99b3d29cf6e8D54925',
        '0x9cf38Bd7b70f26242F2c52C027EFe602B5266313',
        '0x3800d898880f3FdBB0013Db53133774A2Af2F708',
        '0xb8a4d15FBA34D2179B1cA3217BBd6b8E6dF676C2',
        '0xb6bc39AAE19c8DcC45b4120a1E76Fc72b6dC0504',
        '0x3770BAbbfd5FE5e8b6D3A27Ed6902031B9A32D94',
        '0x4C057121663930c6dcBbe8BE9287046bd0543C97',
        '0xA0684239B948Aa3558213509eD2189525Ea97a54',
        '0xe3AaCAc3e94A5c0C1cE5a1C394D191d1c505dD88',
        '0x1ad8dA3729C447D77ec39627fA512F71919D6aAA',
        '0xbD86335Aa70067f7d7f9d3A3e51fB6ccD1f9256a',
        '0xd42516899026AeACa2b57A8A18DEf974f5f14009',
        '0x7f83ca27318eab05B009aB3cd49F0080856e685b',
        '0x9f1e7B7859D007e06f031dc572c561f00be05dbc',
        '0x3EbFA4A13f00019594f398D780969eAE3125a7d4',
        '0x6f2c4157E74B9250076A69E77c41b644a7394f52',
        '0x1341E4f9591b671311E12774dc3eD786dC88C489',
        '0x10311644797d9aFbb21791eAcfB7f9045eE2976A',
        '0x3c1F65a760cB6628F23C788F6c8F04DC673f9Df5',
        '0x712703Bad3282F1397260B6Aa4D6b3b9Ea622432',
        '0x943d8c2CEE4e96abC1E00D712EB6EBe720c9ac46',
        '0x7EAe54233802B4AEEAb2Ce5cDb7B04bcf6A39069',
        '0x3E8A1A9594B163B38B69C058EB5d69407A28fc2D',
        '0xF7106E7a3993cC2217ba30dc1455ca57c696Bd03',
        '0x1255371401e0C8D4cd48CF43EF2Cb117648FE28F',
        '0x47C2a85895Ca58552028E5103835bFA68B04e45D',
        '0x9C73edf9Ae052d206756866719B8d362B3EA7965',
        '0x85D3C5C63f41a982e660606275F8B33a16E14f1a',
        '0xb686042097bE260337315A41235C0Af2FdcC0606',
        '0x041e9e665f614cee9E1692d9ceF11fc9d00d61d5',
        '0xA641126e4AC5De7342dD3F4ab292CEf2F0b49DD2',
        '0x6a01268669Dd2e5a12E1aa8e2c04626F91489bc3',
        '0x64e6B2155061B4860aa3E74903e87163B431684A',
        '0x7a5B2f5569FDAF502147E1C96E9eC41d95Fc6a09',
        '0x64132a5B313BF3A08ffD785Bcf64b5F49D6b62eA',
        '0xa14C3d4Aa1386Ba3E2a424334128883740C639ba',
        '0x8bb97E0d23CE4D36180Ae538e664af15137cb6D0',
        '0x92D03252Ed9C3C69258f97EAfA238E87c186bD47',
        '0xBb3E6b8D6A043e5E38B005CBE56D7E5925619559',
        '0x8532655CbE89348931417BBe1f6038E5d354DDFe',
        '0x870A186A5054C0c2E72c8DD5B89063A8d24b1EFD',
        '0xca1AE40A701AfCBc108Fa9Ea2cE82b362EF93030',
        '0x2A7FdEc2122AD3aA2b226a170D7c390dAcef8440',
        '0xA1d15077024Af627ADe4E75b644Dbbb8F8E31DE1',
        '0xA628771efd79F05e6568C129717Fc6EdAc68AfB0',
        '0x1a768f6ec44C66A67B44D75bE54b7e2220220de0',
        '0x83777291535223DBf2685d314fBb2A38bB120626',
        '0xc886C37B93C60D501707538CA3A6E420dE7a0a29',
        '0x21D3A7B067BD206BB5153ebCe8431E0CD1b668E2',
        '0x1DfA582Ae58A773941E601b9B92C250d1c6946d3',
        '0x342D1a673c22512EAf3C7C1402795a155694a3Ba',
        '0x548275011FcBf95928A9d91f2374fF4456A31C2e',
        '0xf797f273A69eC265e23D0F8e96b00AF656F2b6ec',
        '0xA3D0730b4Ad5Aa89257Ec13b5aCc1eb4c38B711A',
        '0x67389782903f94F954b1a847299a4a6308101A71',
        '0xC986bC2D4554F298d01D00A6ec81DC7De92eE3a2',
        '0x53A6Fd5bae85E83ea3014DAE6Bf4A96ee5ee7B55',
        '0xA7a348B54AEbF81D0FcD4208371d4BDEbbAff4bD',
        '0x59FcA1746E6b03B15A3157b37Cf2DB13D1555bcC',
        '0xEaACFF45C95822908a867d45eBDC9fa823D312BB',
        '0x5BE8a72B47ef5510c5429d192163Bb57ffFB5D48',
        '0xB10B8DEf198B9b9b5058382030A596341FCA2Ff1',
        '0xaa86c5b7B7Ba29Cc1F6B403B61091C9992cf8a56',
        '0xDf309d6F6526Ed3Da103D2929D148b6aFfe8919D',
        '0xe09Bc58483621584C3434F3AdC08e5a1b7cAf11A',
        '0x84e17Bd3d13F073DacAF85A21EFeBCC4d0531949',
        '0x80f8ee9713FD7e8941eE5A964D55A0D26A4beC56',
        '0x0df5DFDDf2e2Bc4CB3Ea68f17eE96e2AdA1Df8BC',
        '0xa294eD98af9AB87566a323B8Ab95B90895dc4268',
        '0xdfe5A0f9Ed56462495481f883671bf604Fe1352f',
        '0xAaBa74c6869fEa3688Fd726513D0Bf8CF78dC0Bf',
        '0x84C8e905e9Fb88223f7639d7287Ec4d21Acb340F',
        '0x58DE259A1d4B35DA19f2F247053BE144D077f4bD',
        '0xD1588EE2712938C55A5d2085C14ec2FDacbCbd8f',
        '0x1CE3a8f12CA2c396eE18745cBf7edE0f83976578',
        '0xf83fB4fAf6a90345E3F2962a775C791a88A2beA8',
        '0x511Aa6eA1b7A4D07d08A7267d0a6F350768e1A8F'
        ]
      const _contract = data.map((e: string) => e.toLowerCase())
      const query = `
        SELECT sum(eth_value) as sum from ethereum.core.fact_transactions
        WHERE to_address in (${_contract.map((a: string) => `'${a.toLowerCase()}'`).join(',')})
        and origin_function_signature in ('0x4a21a2df','0x1fff79b0')
        and BLOCK_NUMBER > ${startblock} AND BLOCK_NUMBER < ${endblock}
      `

      const value: string[] = (await queryFlipside(query)).flat();
      const total_amount_mint: number = Number(value[0] || 0);
      const ethAddress = 'ethereum:0x0000000000000000000000000000000000000000';
      const ethPrice = (await getPrices([ethAddress], timestamp))[ethAddress].price;
      const _dailyFees = total_amount_mint * ethPrice;
      const dailyRevenue = _dailyFees * 0.05;
      const dailyFees = dailyRevenue;
      const dailyProtocolRevenue = dailyRevenue;
      return {
        dailyFees: `${dailyFees}`,
        dailyRevenue: `${dailyFees}`,
        dailyProtocolRevenue: `${dailyProtocolRevenue}`,
        timestamp
      }
    } catch (error) {
      console.error(error);
      throw error;
    }
  }
}


const adapter: Adapter = {
  adapter: {
    [CHAIN.ETHEREUM]: {
      fetch: graph(CHAIN.ETHEREUM),
      // start: async ()  => 1650844800,
      start: async ()  => 1656633600, //
    },
  }
}

export default adapter;
